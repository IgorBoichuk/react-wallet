"use strict";(self.webpackChunkreact_wallet=self.webpackChunkreact_wallet||[]).push([[996],{2996:function(e,t,n){n.r(t),n.d(t,{default:function(){return ke}});var a,r,s=n(9434),c=n(9439),i=n(4165),o=n(5861),l=n(2791),d=n(4805),u=n(6378),m=n(9167),h=n(8418),f=["title","titleId"];function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p.apply(this,arguments)}function _(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b(e,t){var n=e.title,s=e.titleId,c=_(e,f);return l.createElement("svg",p({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},c),n?l.createElement("title",{id:s},n):null,a||(a=l.createElement("g",{clipPath:"url(#clip0_37400_43)"},l.createElement("path",{d:"M10.5 5.83343L8.16666 3.5001M1.45831 12.5418L3.43253 12.3224C3.67373 12.2956 3.79433 12.2822 3.90706 12.2457C4.00707 12.2133 4.10224 12.1676 4.19 12.1097C4.28891 12.0445 4.37471 11.9587 4.54632 11.7871L12.25 4.08343C12.8943 3.4391 12.8943 2.39443 12.25 1.75009C11.6057 1.10576 10.561 1.10576 9.91666 1.75009L2.21299 9.45375C2.04138 9.62536 1.95558 9.71116 1.89035 9.81008C1.83248 9.89783 1.78674 9.99301 1.75436 10.093C1.71787 10.2057 1.70447 10.3263 1.67767 10.5675L1.45831 12.5418Z",stroke:"black",strokeOpacity:.8,strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"}))),r||(r=l.createElement("defs",null,l.createElement("clipPath",{id:"clip0_37400_43"},l.createElement("rect",{width:14,height:14,fill:"white"})))))}var x,j,y=l.forwardRef(b),N=(n.p,n(1413)),E=n(5987),v="IconButton_iconButton__tzuy9",g="IconButton_iconButtonContainer__5Jo04",C=n(3329),T=["children","onClick"],M=function(e){var t=e.children,n=e.onClick,a=(0,E.Z)(e,T);return(0,C.jsx)("button",(0,N.Z)((0,N.Z)({className:v,onClick:n},a),{},{children:(0,C.jsx)("div",{className:g,children:t})}))},w="TransactionsList_transactionsTableWrapper__mxyjk",k="TransactionsList_transactionsTable__j23tw",O="TransactionsList_thead__QSqri",L="TransactionsList_tr__9mNa4",I="TransactionsList_th__0-ZBr",D="TransactionsList_td__YUqB+",P="TransactionsList_tbody__whe48",S="TransactionsList_tableButton__zEJeH",Y="TransactionsList_mobileTransactionsList__Q2dgA",Z="TransactionsList_mobileTransactionsItem__dP0LE",B="TransactionsList_mobileTransaction__YYnNX",F="TransactionsList_income__yw5V+",A="TransactionsList_expense__m40VH",W="TransactionsList_mobileTransList__title__GMrxG",q="TransactionsList_editButtonTitle__Gk3r3",H="Plug_container_btn__i2o1k",U="Plug_text__OUzuz",X="Plug_btn__uTXcB",R=function(e){var t=e.handleOpenModal;return(0,C.jsxs)("div",{className:H,children:[(0,C.jsx)("p",{className:U,children:"You don't have any transactions yet."}),(0,C.jsx)("button",{type:"button",className:X,onClick:t,children:"My First Transaction"})]})},G=n(4942),Q=n(4164),z=n(2426),J=n.n(z),K=n(5985),V=n(5313),$="ModalTransactionEdit_overlay__B2o4N",ee="ModalTransactionEdit_modalAddTrans__kKFqR",te="ModalTransactionEdit_closeButton__o8t0U",ne="ModalTransactionEdit_closeButtonIcon__53TOQ",ae="ModalTransactionEdit_title__s+h+g",re="ModalTransactionEdit_form__ED67i",se="ModalTransactionEdit_inputsWrapper__KYY-s",ce="ModalTransactionEdit_toggleContainer__yECoO",ie="ModalTransactionEdit_toggleText__hH76G",oe="ModalTransactionEdit_activeExpense__Nvmw0",le="ModalTransactionEdit_activeIncome__eKee2",de="ModalTransactionEdit_selectorWrapper__T6FAr",ue="ModalTransactionEdit_categoryInput__4fmJO",me="ModalTransactionEdit_numberAndCalendarWrapper__FNPnv",he="ModalTransactionEdit_inputNumber__afvPL",fe="ModalTransactionEdit_datePickerContainer__rtywG",pe="ModalTransactionEdit_inputCalendar__nI-jk",_e="ModalTransactionEdit_inputComment__CAUuH",be="ModalTransactionEdit_buttonsContainer__6EjR6",xe=(n(5462),function(e){var t=e.onClose,n=e.transaction,a=(0,l.useState)(J()(n.transactionDate,"YYYY-MM-DD").format("YYYY-MM-DD")),r=(0,c.Z)(a,2),d=r[0],h=r[1],f=(0,l.useState)("EXPENSE"===n.type),p=(0,c.Z)(f,2),_=p[0],b=p[1],x=function(e){switch(e){case"c9d9e447-1b83-4238-8712-edc77b18b739":return"Main Expenses";case"27eb4b75-9a42-4991-a802-4aefe21ac3ce":return"Products";case"bbdd58b8-e804-4ab9-bf4f-695da5ef64f4":return"Self care";case"3caa7ba0-79c0-40b9-ae1f-de1af1f6e386":return"Car";case"76cc875a-3b43-4eae-8fdb-f76633821a34":return"Child care";case"128673b5-2f9a-46ae-a428-ec48cf1effa1":return"Household products";case"1272fcc4-d59f-462d-ad33-a85a075e5581":return"Education";case"c143130f-7d1e-4011-90a4-54766d4e308e":return"Leisure";case"719626f1-9d23-4e99-84f5-289024e437a8":return"Other expenses";case"3acd0ecd-5295-4d54-8e7c-d3908f4d0402":return"Entertainment";case"063f1132-ba5d-42b4-951d-44011ca46262":return"Income";default:return}}(n.categoryId),j=parseInt(n.amount),y=j>=0?j:Math.abs(j),E=(0,l.useState)({type:n.type||"",amount:y,transactionDate:n.transactionDate||"",comment:n.comment||""}),v=(0,c.Z)(E,2),g=v[0],T=v[1],M=(0,s.I0)(),w=function(e){var t=e.target,n=t.name,a=t.value;T((function(e){return(0,N.Z)((0,N.Z)({},e),{},(0,G.Z)({},n,a))}))},k=function(){b(!_),T((function(e){return(0,N.Z)((0,N.Z)({},e),{},{type:"INCOME"===e.type?"EXPENSE":"INCOME"})}))};(0,l.useEffect)((function(){var e=function(e){"Escape"===e.key&&t()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]);var O,L=_?"EXPENSE":"INCOME",I=parseInt(g.amount),D=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(a){var r,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!(I<=0)){e.next=4;break}return K.Am.error("Amount must be positive number",{className:"custom-toast-negative"}),e.abrupt("return");case 4:if(!(I>1e7)){e.next=7;break}return K.Am.error("Amount must be less than or equal to 10,000,000",{className:"custom-toast-negative"}),e.abrupt("return");case 7:r=_?Number("-".concat(I)):I,s={transactionDate:g.transactionDate,type:L,categoryId:n.categoryId,comment:g.comment,amount:r},M((0,u.ii)({transactionId:n.id,credentials:s})),M((0,m.n3)()),t();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Q.createPortal((0,C.jsx)("div",{className:$,onClick:function(e){e.target===e.currentTarget&&t()},children:(0,C.jsxs)("div",{className:ee,children:[(0,C.jsx)("button",{className:te,type:"button",onClick:t,children:(0,C.jsx)(V.r,{className:ne})}),(0,C.jsx)("h1",{className:ae,children:"Edit transaction"}),(0,C.jsxs)("div",{className:ce,children:[(0,C.jsx)("span",{onClick:k,className:"".concat(ie," ").concat(_?"":le),children:"Income"}),(0,C.jsx)("span",{className:ie,children:"/"}),(0,C.jsx)("span",{onClick:k,className:"".concat(ie," ").concat(_?oe:""),children:"Expense"})]}),(0,C.jsxs)("form",{className:re,onSubmit:D,children:[(0,C.jsxs)("div",{className:se,children:[_&&(0,C.jsx)("div",{className:de,children:(0,C.jsx)("input",{type:"text",className:ue,value:x,readOnly:!0})}),(0,C.jsxs)("div",{className:me,children:[(0,C.jsx)("input",{className:he,type:"number",placeholder:"0.00",required:!0,value:g.amount,name:"amount",onChange:w}),(0,C.jsx)("div",{className:fe,children:(0,C.jsx)("input",{className:pe,value:(O=d,J()(O,"YYYY-MM-DD").format("DD.MM.YYYY")),onChange:h})})]}),(0,C.jsx)("input",{type:"text",className:_e,placeholder:"Comment",value:g.comment,required:!0,name:"comment",onChange:w})]}),(0,C.jsxs)("div",{className:be,children:[(0,C.jsx)("button",{type:"submit",className:"button",children:"Save"}),(0,C.jsx)("button",{type:"button",className:"button button--secondary",onClick:t,children:"Cancel"})]})]})]})}),document.getElementById("modalEditTransaction"))}),je=function(e){var t=e.openModal,n=(0,s.I0)(),a=(0,s.v9)(h.xU),r=(0,s.v9)(h.Lr);(0,l.useEffect)((function(){n((0,u.mI)())}),[]);var f=function(e){return"EXPENSE"===e?"-":"+"},p=function(e){return{className:"EXPENSE"===e?A:F,color:"EXPENSE"===e?"#FF6596":"#24CCA7"}},_=function(e){switch(e){case"c9d9e447-1b83-4238-8712-edc77b18b739":return"Main Expenses";case"27eb4b75-9a42-4991-a802-4aefe21ac3ce":return"Products";case"bbdd58b8-e804-4ab9-bf4f-695da5ef64f4":return"Self care";case"3caa7ba0-79c0-40b9-ae1f-de1af1f6e386":return"Car";case"76cc875a-3b43-4eae-8fdb-f76633821a34":return"Child care";case"128673b5-2f9a-46ae-a428-ec48cf1effa1":return"Household products";case"1272fcc4-d59f-462d-ad33-a85a075e5581":return"Education";case"c143130f-7d1e-4011-90a4-54766d4e308e":return"Leisure";case"719626f1-9d23-4e99-84f5-289024e437a8":return"Other expenses";case"3acd0ecd-5295-4d54-8e7c-d3908f4d0402":return"Entertainment";case"063f1132-ba5d-42b4-951d-44011ca46262":return"Income";default:return}},b=function(e){var t=Math.abs(e).toFixed(2),n=new Intl.NumberFormat("en-US").format(t).replaceAll(","," "),a=t.split(".")[1]||"00";return"".concat(n,".").concat(a)},x=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n((0,u.v8)(t));case 2:n((0,m.n3)());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=(0,d.useMediaQuery)({query:"(max-width: 767.98px)"}),N=(0,d.useMediaQuery)({query:"(min-width: 768px)"}),E=(0,l.useState)(null),v=(0,c.Z)(E,2),g=v[0],T=v[1],H=(0,l.useState)(!1),U=(0,c.Z)(H,2),X=U[0],G=U[1],Q=function(e){T(e),G(!0)};return(0,C.jsxs)(C.Fragment,{children:[N&&(0,C.jsx)(C.Fragment,{children:r.length>0?(0,C.jsx)("div",{className:w,children:(0,C.jsxs)("table",{className:k,children:[(0,C.jsx)("thead",{className:O,children:(0,C.jsxs)("tr",{className:L,children:[(0,C.jsx)("th",{className:I,children:"Date"}),(0,C.jsx)("th",{className:I,children:"Type"}),(0,C.jsx)("th",{className:I,children:"Category"}),(0,C.jsx)("th",{className:I,children:"Comment"}),(0,C.jsx)("th",{className:"".concat(I," textAlignL"),children:"Sum"}),(0,C.jsx)("th",{className:I})]})}),(0,C.jsx)("tbody",{className:P,children:r.map((function(e){return(0,C.jsxs)("tr",{className:L,children:[(0,C.jsx)("td",{className:D,children:new Date(e.transactionDate).toLocaleDateString("ru-RU",{year:"2-digit",month:"2-digit",day:"2-digit"})}),(0,C.jsx)("td",{className:D,children:f(e.type)}),(0,C.jsx)("td",{className:D,children:_(e.categoryId)}),(0,C.jsx)("td",{className:D,children:e.comment}),(0,C.jsx)("td",{className:D,style:{color:p(e.type).color,fontWeight:"700"},children:b(e.amount)}),(0,C.jsxs)("td",{className:"".concat(I," cell textAlignL"),children:[(0,C.jsx)(M,{type:"button","aria-label":"edit",onClick:function(){return Q(e)},children:(0,C.jsx)(y,{})}),(0,C.jsx)("button",{disabled:a,onClick:function(){return x(e.id)},className:"".concat(S," button button button--small"),children:"Delete"})]})]},e.id)}))})]})}):(0,C.jsx)(C.Fragment,{children:!a&&(0,C.jsx)(R,{handleOpenModal:t})})}),j&&(0,C.jsx)(C.Fragment,{children:r.length>0?(0,C.jsx)("ul",{className:Y,children:r.map((function(e){return(0,C.jsx)("li",{className:Z,children:(0,C.jsxs)("ul",{className:"".concat(B,"  ").concat(p(e.type).className),children:[(0,C.jsxs)("li",{children:[(0,C.jsx)("span",{className:W,children:"Date"})," ",(0,C.jsx)("span",{children:new Date(e.transactionDate).toLocaleDateString("ru-RU",{year:"2-digit",month:"2-digit",day:"2-digit"})})]}),(0,C.jsxs)("li",{children:[(0,C.jsx)("span",{className:W,children:"Type"})," ",(0,C.jsx)("span",{children:f(e.type)})]}),(0,C.jsxs)("li",{children:[(0,C.jsx)("span",{className:W,children:"Category"})," ",(0,C.jsx)("span",{children:_(e.categoryId)})]}),(0,C.jsxs)("li",{children:[(0,C.jsx)("span",{className:W,children:"Comment"})," ",(0,C.jsx)("span",{children:e.comment})]}),(0,C.jsxs)("li",{children:[(0,C.jsx)("span",{className:W,children:"Sum"})," ",(0,C.jsx)("span",{style:{color:p(e.type).color,fontWeight:"700"},children:b(e.amount)})]}),(0,C.jsxs)("li",{children:[(0,C.jsx)("button",{type:"button",className:"".concat(S," button button button--small"),onClick:function(){return x(e.id)},children:"Delete"}),(0,C.jsx)("div",{children:(0,C.jsxs)(M,{type:"button","aria-label":"edit",onClick:function(){return Q(e)},children:[(0,C.jsx)(y,{}),(0,C.jsx)("span",{className:q,children:"Edit"})]})})]})]})},e.id)}))}):(0,C.jsx)(R,{handleOpenModal:t})}),g&&(0,C.jsx)(xe,{isOpen:X,onClose:function(){G(!1),T(null)},transaction:g})]})},ye=n(3541),Ne=["title","titleId"];function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ee.apply(this,arguments)}function ve(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ge(e,t){var n=e.title,a=e.titleId,r=ve(e,Ne);return l.createElement("svg",Ee({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?l.createElement("title",{id:a},n):null,x||(x=l.createElement("path",{d:"M10 0V20",stroke:"white",strokeWidth:2})),j||(j=l.createElement("path",{d:"M0 10L20 10",stroke:"white",strokeWidth:2})))}var Ce=l.forwardRef(ge),Te=(n.p,"HomeTab_containerBtn__5TiLn"),Me="HomeTab_btnPlus__7CsZD",we=function(){var e=(0,s.I0)(),t=function(){e((0,ye.uf)(!0))};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(je,{openModal:t}),(0,C.jsx)("div",{className:Te,children:(0,C.jsx)("button",{type:"button",className:Me,onClick:t,children:(0,C.jsx)(Ce,{})})})]})},ke=function(){return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(we,{})})}}}]);
//# sourceMappingURL=996.d59726c6.chunk.js.map